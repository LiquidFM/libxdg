<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xdg: Desktop Entry Specification binary cache</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">xdg
   &#160;<span id="projectnumber">0.1.4</span>
   </div>
   <div id="projectbrief">This library is a fork of the official freedesktop.org library xdgmime.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">index</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Desktop Entry Specification binary cache </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The specification could be found <a href="http://standards.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html">here</a>.</p>
<p>This specification describes directory layout and format of ".desktop" and ".list" files. Purpose of the library is to provide fastest possible access to contents of this files. This goal is achieved by using of AVL trees. They were chosen because AVL trees are more rigidly balanced than red-black trees, leading to slower insertion and removal but faster retrieval.</p>
<p>Format of binary cache which contains data from <em>".desktop"</em> and <em>".list"</em> files is:</p>
<ul>
<li>4 <code>bytes</code> for version of a cache file.</li>
</ul>
<ul>
<li>List of <a class="el" href="structXdgFileWatcher.html">XdgFileWatcher</a> structures (at least one zeroed structure).</li>
</ul>
<ul>
<li>AVL tree of all <em>".desktop"</em> files located in the same directory as cache file. <br/>
 Each key of this tree is a name of <em>".desktop"</em> file (e.g. <em>kde4-kate.desktop</em>). <br/>
 Each value of this tree is an AVL tree of groups, which in turns is an AVL tree of entries.</li>
</ul>
<ul>
<li>AVL tree of associations of mime type with <em>".desktop"</em> files. <br/>
 Each key of this tree is a name of a mime type (e.g. <em>text</em>). <br/>
 Each value of this tree is an AVL tree of sub types (e.g. <em>html</em>), which contains a list of pointers to <a class="el" href="structXdgApp.html">XdgApp</a> structures. <dl class="section note"><dt>Note:</dt><dd>Global version of this tree is used to resolve <em>".desktop"</em> files according to the given mime type.</dd></dl>
</li>
<li>AVL tree of all <em>".list"</em> files located in the same directory as cache file. <br/>
 Each key of this tree is a name of <em>".list"</em> file (e.g. <em>defaults.list</em>). <br/>
 Each value of this tree is an AVL tree of groups, which in turns is an AVL tree of {mime type, <em>".desktop"</em> files} pairs in the format: <em>"text/plain=kde4-kate.desktop;diffuse.desktop;"</em>. <dl class="section note"><dt>Note:</dt><dd>Global version of this tree is used to resolve <em>".desktop"</em> files according to the given mime type. </dd></dl>
</li>
</ul>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 7 2012 17:56:32 for xdg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
